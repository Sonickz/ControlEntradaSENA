{% extends 'layouts/layout.html'%}
{% load static %}

{% block title %} {{title}} {% endblock %}

{% block content %}

{% if not users %}

<article id="ingreso" class="scan">
    <!-- Alerta despues de registro -->
    <div class="Alert d-none" data-status="{% if messages %}{% for message in messages %}{{message}}{% endfor %}{% endif %}"></div>

    <!-- Card escaneo -->
    <section class="card">
        <header class="card-header">
            <h1 class="card-title">Escanea tu carnet</h1>
        </header>
        <div class="card-body">
            <div class="card-barra"></div>
            <div class="card-code">
                <img src="{% static 'assets/icons/carnet1.png' %}" alt="Codigo">                
            </div>                
        </div>
        <div class="card-footer">
            <form method="get" id="code-form">
                <input id="code-input" class="form-control onlynumbers" type="text" name="code" onkeypress="return valideNumber(event)" maxlength="10" minlength="6" autocomplete="off" autofocus required>
            </form>
            <!-- Boton enter -->
            <button class="btn btn-green" type="button" id="btn-send">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-send-fill" viewBox="0 0 16 16">
                    <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"/>
                </svg>
            </button>                               
        </div>
    </section>
</article>

{% else %}
<article id="ingreso" class="card-select">
    <header>
        <h1 class="header-title">Elemento a registrar</h1>
    </header>
    <section class="card">
        <header class="card-header">
            <h1 class="card-title">Elementos</h1>
            <a class="back-button" href="#" role="button" onclick="goBack()">
                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-arrow-left-circle" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/>
                  </svg>
            </a>
        </header>
        <div class="card-body">
            <ul>
                <li class="col">
                    <a role="button" href="{% url 'registervehicle' code=users.documento %}">
                        <img src="{% static "assets/icons/trafico.png" %}" alt="">
                        <span>Vehiculos</span>
                    </a>
                </li>
                <li class="col">
                    <a role="button" href="{% url 'registerdevice' code=users.documento %}">
                        <img src="{% static "assets/icons/dispositivo.png" %}" alt="">
                        <span>Dispositivos</span>
                    </a>
                </li>
            </ul>
        </div>
    </section>
</article>
{% endif %}

{% endblock %}